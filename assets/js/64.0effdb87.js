(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{531:function(a,s,t){"use strict";t.r(s);var e=t(10),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"统计表数据量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#统计表数据量"}},[a._v("#")]),a._v(" 统计表数据量")]),a._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" table_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" table_rows "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" information_schema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("tables")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" table_schema "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'oms'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("AND")]),a._v(" table_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("like")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'tbl_jzt%'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("order")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("by")]),a._v(" table_rows "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("desc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"mysqldump"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysqldump"}},[a._v("#")]),a._v(" mysqldump")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("-u")]),a._v(" 用户名")]),a._v(" "),s("li",[s("code",[a._v("-p")]),a._v(" 密码")]),a._v(" "),s("li",[s("code",[a._v("--all-databases")]),a._v(" 导出所有数据库")]),a._v(" "),s("li",[s("code",[a._v("--databases")]),a._v(" 导出指定数据库")]),a._v(" "),s("li",[s("code",[a._v("--tables")]),a._v(" 导出指定表")]),a._v(" "),s("li",[s("code",[a._v("-d")]),a._v(" 只导出表结构")]),a._v(" "),s("li",[s("code",[a._v("-t")]),a._v(" 只导出表数据")]),a._v(" "),s("li",[s("code",[a._v("--no-data")]),a._v(" 只导出表结构")]),a._v(" "),s("li",[s("code",[a._v("--skip-lock-tables")]),a._v(" 不锁定表")]),a._v(" "),s("li",[s("code",[a._v("--single-transaction")]),a._v(" 在导出过程中使用单个事务。这对于 InnoDB 表非常有用，因为它可以确保导出数据的一致性。")]),a._v(" "),s("li",[s("code",[a._v("--set-gtid-purged=OFF")]),a._v(" 在导出文件中不包含 GTID (Global Transaction Identifier) 相关信息。这在某些情况下（例如在 GTID 模式下的复制环境中）可能是必要的。")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#导出命令")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#导出包括系统数据库在内的所有数据库（all.sql默认保存在bin文件夹下面）")]),a._v("\n\tmysqldump "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" username "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" --all-databases "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" filename.sql\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#导出指定数据库表结构和数据")]),a._v("\n\tmysqldump "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" username "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" dbname "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("tbname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" filename.sql\t\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#导出多个数据库：")]),a._v("\n\tmysqldump "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" username "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--databases")]),a._v(" db1 db2 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" filename.sql\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#导出多张表：")]),a._v("\n\tmysqldump "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" username "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--databases")]),a._v(" db1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--tables")]),a._v(" t1 t"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[a._v("2")]),a._v(">")]),a._v(" filename.sql\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#只导出表结构不导表数据，添加“-d”命令参数")]),a._v("\n    mysqldump "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" username "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" dbname "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("tbname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" filename.sql\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#只导出表数据不导表结构，添加“-t”命令参数")]),a._v("\n    mysqldump "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" username "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" dbname "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("tbname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" d:/user.sql\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#只导出db1数据库的表结构")]),a._v("\n 导出：mysqldump "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" root "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" --no-data "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--databases")]),a._v(" db1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" backup.sql\n 导入：mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" root "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" db1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v(" backup.sql\n \n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#系统行导入命令")]),a._v("\n  mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" username "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" dbname "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v(" d:XX.sql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("路径"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n  mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" root "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" db_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v(" d:/backup.sql\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#source导入")]),a._v("\n  mysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" use db_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  mysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /backup/mysqldump/backup.sql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("路径"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);