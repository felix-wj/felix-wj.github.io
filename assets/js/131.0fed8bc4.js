(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{601:function(s,a,t){"use strict";t.r(a);var e=t(10),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"挂载硬盘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#挂载硬盘"}},[s._v("#")]),s._v(" 挂载硬盘")]),s._v(" "),a("h3",{attrs:{id:"查看硬盘信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看硬盘信息"}},[s._v("#")]),s._v(" 查看硬盘信息")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("fdisk -l")]),s._v("命令来查看：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("也可以使用命令 "),a("code",[s._v("lsblk")]),s._v(" 来查看：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("lsblk "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"创建挂载点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建挂载点"}},[s._v("#")]),s._v(" 创建挂载点")]),s._v(" "),a("p",[s._v("创建一个挂载点，也就是硬盘在文件系统中的路径。可以使用mkdir命令来创建：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /mnt/mydisk\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"挂载硬盘-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#挂载硬盘-2"}},[s._v("#")]),s._v(" 挂载硬盘")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" /dev/sdb1 /mnt/mydisk\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"ntfs格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ntfs格式"}},[s._v("#")]),s._v(" NTFS格式")]),s._v(" "),a("p",[s._v("如果硬盘的文件系统是NTFS格式，需要使用ntfs-3g来挂载。ntfs-3g是一个开源的NTFS文件系统驱动，它可以让Linux系统读写NTFS文件系统。")]),s._v(" "),a("p",[s._v("首先安装ntfs-3g：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Ubuntu或Debian系统")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ntfs-3g\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#CentOS系统")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ntfs-3g\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("安装完成后，可以使用mount命令来挂载NTFS硬盘:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" ntfs-3g /dev/sdb1 /mnt/mydisk\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"设置开机自动挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置开机自动挂载"}},[s._v("#")]),s._v(" 设置开机自动挂载")]),s._v(" "),a("p",[s._v("如果我们希望硬盘在系统启动时自动挂载，可以修改"),a("code",[s._v("/etc/fstab")]),s._v("文件,在文件的最后，添加一行如下的内容：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/dev/sdb1 /mnt/mydisk ext4 defaults 0 0\n\n#对于ntfs系统硬盘\n/dev/sdb1 /mnt/mydisk ntfs-3g defaults 0 0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"取消挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#取消挂载"}},[s._v("#")]),s._v(" 取消挂载")]),s._v(" "),a("p",[s._v("使用umount命令来取消挂载硬盘。例如，如果想取消挂载/mnt/mydisk这个目录，可以使用以下命令：")]),s._v(" "),a("div",{staticClass:"language-BASH line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("umount")]),s._v(" /mnt/mydisk\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("需要注意的是，取消挂载前需要确保没有任何进程正在使用这个目录，否则会导致取消挂载失败。")]),s._v(" "),a("p",[s._v("如果在取消挂载时遇到"),a("code",[s._v("device is busy")]),s._v("这样的错误，可以使用"),a("code",[s._v("lsof")]),s._v("命令来查看哪些进程正在使用这个目录：")]),s._v(" "),a("div",{staticClass:"language-BASH line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" /mnt/mydisk\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("可以根据需要停止这些进程，然后再尝试取消挂载。")]),s._v(" "),a("h2",{attrs:{id:"磁盘扩容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#磁盘扩容"}},[s._v("#")]),s._v(" 磁盘扩容")]),s._v(" "),a("h3",{attrs:{id:"查看磁盘空间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看磁盘空间"}},[s._v("#")]),s._v(" 查看磁盘空间")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("lsblk")]),s._v("查看块设备信息，选择要扩容的硬盘。")]),s._v(" "),a("h3",{attrs:{id:"调整分区大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调整分区大小"}},[s._v("#")]),s._v(" 调整分区大小")]),s._v(" "),a("p",[a("code",[s._v("fdisk /dev/vda")]),s._v(" 进入fdisk命令行，输入"),a("code",[s._v("p")]),s._v("查看分区信息，输入"),a("code",[s._v("d")]),s._v("删除分区，输入"),a("code",[s._v("n")]),s._v("新建分区，输入"),a("code",[s._v("w")]),s._v("保存退出。")]),s._v(" "),a("p",[s._v("在新建分区时，需要输入起始扇区和结束扇区，可以直接回车使用默认值。")]),s._v(" "),a("h3",{attrs:{id:"刷新分区表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#刷新分区表"}},[s._v("#")]),s._v(" 刷新分区表")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("partprobe /dev/vda\n\nresize2fs /dev/vda1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"查看磁盘空间-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看磁盘空间-2"}},[s._v("#")]),s._v(" 查看磁盘空间")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("df -h")]),s._v("查看磁盘空间，确认扩容成功。")]),s._v(" "),a("h2",{attrs:{id:"磁盘清理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#磁盘清理"}},[s._v("#")]),s._v(" 磁盘清理")]),s._v(" "),a("ol",[a("li",[a("p",[a("code",[s._v("df -h")]),s._v("查看磁盘使用情况")])]),s._v(" "),a("li",[a("p",[s._v("清理临时文件和缓存，以释放一些磁盘空间：")])])]),s._v(" "),a("p",[s._v("Ubuntu或Debian系统：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" clean\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" autoclean\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" autoremove\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("CentOS系统：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum clean all\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[a("code",[s._v("du -h --max-depth=1 [路径]")]),s._v(" 定位大文件夹位置，决定是删除还是归档")])]),s._v(" "),a("ul",[a("li",[s._v("排序 "),a("code",[s._v("du -h --max-depth=1 [路径] | sort -h")]),s._v("  正序 ，"),a("code",[s._v("du -h --max-depth=1 [路径] | sort -hr")]),s._v(" 倒序")])]),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("code",[s._v("tar -zcvf archive.tar.gz [路径]")]),s._v(" 归档")])])])}),[],!1,null,null,null);a.default=n.exports}}]);